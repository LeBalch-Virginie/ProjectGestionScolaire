@model GestionScolaire.Areas.GestionDesClasses.Models.EtablissementModels


@{ if (Model.mode != -1) {
       ViewBag.Title = "Edition";
       ViewBag.Input = "Editer";
    } else {
       ViewBag.Title = "Création";
       ViewBag.Input = "Créer";
    }
}

<h2>@ViewBag.Title d'un établissement</h2>


@using (Html.BeginForm((Model.mode != -1) ? "EditEtablissement" : "CreateEtablissement", "GestionDesClasses", FormMethod.Post)) {
@Html.ValidationSummary(true)

<div id="content_form">
    <table class="table" id="form_creation">
        <tr>
            <td> @Html.LabelFor(model => model.name)</td>
            <td> @Html.TextBoxFor(model => model.name)
                 @Html.ValidationMessageFor(model => model.name)
            </td>
        </tr>
        <tr>
            <td> @Html.LabelFor(model => model.address)</td>
            <td> @Html.TextBoxFor(model => model.address)
                 @Html.ValidationMessageFor(model => model.address)
            </td>
        </tr>
        <tr>
            <td> @Html.LabelFor(model => model.postCode)</td>
            <td> @Html.TextBoxFor(model => model.postCode)
                 @Html.ValidationMessageFor(model => model.postCode)
            </td>
        </tr>
        <tr>
            <td> @Html.LabelFor(model => model.town)</td>
            <td> @Html.TextBoxFor(model => model.town)
                 @Html.ValidationMessageFor(model => model.town)
            </td>
        </tr>
        <tr>
            <td> @Html.LabelFor(model => model.academieId)</td>
            <td> @Html.DropDownListFor(model => model.academieId, new SelectList(Model.academies, 
                                   "Id", "Name"))
                 @Html.ValidationMessageFor(model => model.academieId)
            </td>
        </tr>
        <tr>
            <td> @Html.LabelFor(model => model.userId)</td>
            <td> @Html.DropDownListFor(model => model.userId, new SelectList(Model.users, 
                                   "Id", "UserName"))
                 @Html.ValidationMessageFor(model => model.userId)
            </td>
        </tr>

    </table>
    <input type="submit" value="@ViewBag.Input" />
</div>
}

<div>
    @Html.ActionLink("Back to List", "Index")
</div>